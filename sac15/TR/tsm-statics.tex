%!TEX root=sac15-tr.tex
\begin{figure}
\begin{center}
\AXC{
	\stackanchor
	{$\Theta_0 \subset \Theta$ ~~~~ $s[\mathbf{ana}(i_{tsm})]\in\Theta$ ~~~~ $\mathsf{parsestream}(body)=i_{ps}$}
	{$i_{tsm}.parse(i_{ps});\Downarrow OK((i_{ast}, i'_{ps}))$ ~~~~ $i_{ast}\uparrow \hat{e}$ ~~~~ $\Delta;\emptyset;\Gamma;\emptyset\myvdash \hat{e} \rightsquigarrow i \Leftarrow \tau$}
}\RightLabel{(T-ana)}
\UIC{$\Delta;\Gamma\myvdash\mathbf{eaptsm}[s,body] \rightsquigarrow i \Leftarrow \tau$}  
\DP
\end{center}

\begin{center}
\AXC{
	\stackanchor
	{$\Theta_0 \subset \Theta$ ~~~~ $s[\mathbf{syn}(\tau,i_{tsm})]\in\Theta$ ~~~~ $\mathsf{parsestream}(body)=i_{ps}$}
	{$i_{tsm}.parse(i_{ps})\Downarrow OK((i_{ast}, i'_{ps}))$ ~~~~ $i_{ast}\uparrow \hat{e}$ ~~~~ $\Delta;\emptyset;\Gamma;\emptyset\myvdash \hat{e} \rightsquigarrow i \Leftarrow \tau$}
} \RightLabel{(T-syn)}
\UIC{$\Delta;\Gamma\myvdash\mathbf{eaptsm}[s,body] \rightsquigarrow i\Rightarrow \tau$}  
\DP
\end{center}

\begin{center}
\AXC{$\Theta_0\subset\Theta$ ~~~~ $s[\mathbf{syn}(\tau,i)]\in\Psi$}\RightLabel{(T-syntsmdef)}
\UIC{$\Delta;\Gamma\myvdash\mathbf{etsmdef}[s] \rightsquigarrow i\Rightarrow\mathtt{Parser}(\mathtt{Exp})$}
\DP
\end{center}

\begin{center}
\AXC{$\Theta_0\subset\Theta$ ~~~~ $s[\mathbf{ana}(i)] \in \Psi$}\RightLabel{(T-anatsmdef)}
\UIC{$\Delta;\Gamma\myvdash \mathbf{etsmdef}[s] \rightsquigarrow i\Rightarrow\mathtt{Parser}(\mathtt{Exp})$}
\DP
\end{center}

\begin{center}
\AXC{$\Theta_0\subset\Theta$ ~~~~ $s[\mathbf{ty}(\kappa,i)]\in\Psi$} \RightLabel{(T-typetsmdef)}
\UIC{$\Delta;\Gamma\myvdash \mathbf{etsmdef}[s]\rightsquigarrow i\Rightarrow\mathtt{Parser}(\mathtt{Type})$}
\DP
\end{center}
\caption{Statics rules for TSMs applications}
\label{tsm-statics}
\end{figure}