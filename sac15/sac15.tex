

% This is "sig-alternate.tex" V1.9 April 2009
% This file should be compiled with V2.4 of "sig-alternate.cls" April 2009
%
% This example file demonstrates the use of the 'sig-alternate.cls'
% V2.4 LaTeX2e document class file. It is for those submitting
% articles to ACM Conference Proceedings WHO DO NOT WISH TO
% STRICTLY ADHERE TO THE SIGS (PUBS-BOARD-ENDORSED) STYLE.
% The 'sig-alternate.cls' file will produce a similar-looking,
% albeit, 'tighter' paper resulting in, invariably, fewer pages.
%
% ----------------------------------------------------------------------------------------------------------------
% This .tex file (and associated .cls V2.4) produces:
%       1) The Permission Statement
%       2) The Conference (location) Info information
%       3) The Copyright Line with ACM data
%       4) NO page numbers
%
% as against the acm_proc_article-sp.cls file which
% DOES NOT produce 1) thru' 3) above.
%
% Using 'sig-alternate.cls' you have control, however, from within
% the source .tex file, over both the CopyrightYear
% (defaulted to 200X) and the ACM Copyright Data
% (defaulted to X-XXXXX-XX-X/XX/XX).
% e.g.
% \CopyrightYear{2007} will cause 2007 to appear in the copyright line.
% \crdata{0-12345-67-8/90/12} will cause 0-12345-67-8/90/12 to appear in the copyright line.
%
% ---------------------------------------------------------------------------------------------------------------
% This .tex source is an example which *does* use
% the .bib file (from which the .bbl file % is produced).
% REMEMBER HOWEVER: After having produced the .bbl file,
% and prior to final submission, you *NEED* to 'insert'
% your .bbl file into your source .tex file so as to provide
% ONE 'self-contained' source file.
%
% ================= IF YOU HAVE QUESTIONS =======================
% Questions regarding the SIGS styles, SIGS policies and
% procedures, Conferences etc. should be sent to
% Adrienne Griscti (griscti@acm.org)
%
% Technical questions _only_ to
% Gerald Murray (murray@hq.acm.org)
% ===============================================================
%
% For tracking purposes - this is V1.9 - April 2009

\documentclass{sig-alternate}
  \pdfpagewidth=8.5truein
  \pdfpageheight=11truein

\usepackage{epstopdf}
\usepackage{bussproofs}
\usepackage[usenames,dvipsnames]{color} % Required for specifying custom colors and referring to colors by name
\usepackage{listings}
\usepackage{xcolor}
\EnableBpAbbreviations
\input{macros.tex}

\newcommand\BeraMonottfamily{%
  \def\fvm@Scale{0.85}% scales the font down
  \fontfamily{fvm}\selectfont% selects the Bera Mono font
}

\lstdefinestyle{wyvern}{
%backgroundcolor=\color{highlight}, % Set the background color for the snippet - useful for highlighting
basicstyle=\scriptsize\BeraMonottfamily, % The default font size and style of the code
breakatwhitespace=false, % If true, only allows line breaks at white space
breaklines=true, % Automatic line breaking (prevents code from protruding outside the box)
captionpos=b, % Sets the caption position: b for bottom; t for top
commentstyle=\usefont{T1}{pcr}{m}{sl}\color{DarkGreen}, % Style of comments within the code - dark green courier font
deletekeywords={}, % If you want to delete any keywords from the current language separate them by commas
%escapeinside={\%}, % This allows you to escape to LaTeX using the character in the bracket
firstnumber=1, % Line numbers begin at line 1
frame=lines, % Frame around the code box, value can be: none, leftline, topline, bottomline, lines, single, shadowbox
frameround=tttt, % Rounds the corners of the frame for the top left, top right, bottom left and bottom right positions
keywords=[1]{new, objtype, type, casetype, val, def, metadata, keyword, of, fn},
keywordstyle={[1]\color{blue!90!black}},
keywordstyle={[3]\color{red!80!orange}},
morekeywords={}, % Add any functions no included by default here separated by commas
numbers=left, % Location of line numbers, can take the values of: none, left, right
numbersep=8pt, % Distance of line numbers from the code box
numberstyle=\tiny\color{Gray}, % Style used for line numbers
rulecolor=\color{black}, % Frame border color
showstringspaces=false, % Don't put marks in string spaces
showtabs=false, % Display tabs in the code as lines
stepnumber=1, % The step distance between line numbers, i.e. how often will lines be numbered
tabsize=4, % Number of spaces per tab in the code
}
\lstset{basicstyle=\footnotesize\,breaklines=true}

\newcommand{\flyingbox}[1]{\begin{flushleft}\fbox{{#1}}\end{flushleft}}
\newcommand{\myvdash}{\vdash_{\Theta}^{\Delta_{\kappa}}}
\begin{document}
%
% --- Author Metadata here ---
\conferenceinfo{SAC'15}{April 13-17, 2015, Salamanca, Spain.}
\CopyrightYear{2015} % Allows default copyright year (2002) to be over-ridden - IF NEED BE.
\crdata{978-1-4503-3196-8/15/04}  % Allows default copyright data (X-XXXXX-XX-X/XX/XX) to be over-ridden.
% --- End of Author Metadata ---

\title{Alternate {\ttlit ACM} SIG Proceedings Paper in LaTeX
Format}
%
% You need the command \numberofauthors to handle the 'placement
% and alignment' of the authors beneath the title.
%
% For aesthetic reasons, we recommend 'three authors at a time'
% i.e. three 'name/affiliation blocks' be placed beneath the title.
%
% NOTE: You are NOT restricted in how many 'rows' of
% "name/affiliations" may appear. We just ask that you restrict
% the number of 'columns' to three.
%
% Because of the available 'opening page real-estate'
% we ask you to refrain from putting more than six authors
% (two rows with three columns) beneath the article title.
% More than six makes the first-page appear very cluttered indeed.
%
% Use the \alignauthor commands to handle the names
% and affiliations for an 'aesthetic maximum' of six authors.
% Add names, affiliations, addresses for
% the seventh etc. author(s) as the argument for the
% \additionalauthors command.
% These 'additional authors' will be output/set for you
% without further effort on your part as the last section in
% the body of your article BEFORE References or any Appendices.

\numberofauthors{8} %  in this sample file, there are a *total*
% of EIGHT authors. SIX appear on the 'first-page' (for formatting
% reasons) and the remaining two appear in the \additionalauthors section.
%
\author{
% You can go ahead and credit any number of authors here,
% e.g. one 'row of three' or two rows (consisting of one row of three
% and a second row of one, two or three).
%
% The command \alignauthor (no curly braces needed) should
% precede each author name, affiliation/snail-mail address and
% e-mail address. Additionally, tag each line of
% affiliation/address with \affaddr, and tag the
% e-mail address with \email.
%
% 1st. author
\alignauthor
Ben Trovato\titlenote{Dr.~Trovato insisted his name be first.}\\
       \affaddr{Institute for Clarity in Documentation}\\
       \affaddr{1932 Wallamaloo Lane}\\
       \affaddr{Wallamaloo, New Zealand}\\
       \email{trovato@corporation.com}
% 2nd. author
\alignauthor G.K.M. Tobin\titlenote{The secretary disavows
any knowledge of this author's actions.}\\
       \affaddr{Institute for Clarity in Documentation}\\
       \affaddr{P.O. Box 1212}\\
       \affaddr{Dublin, Ohio 43017-6221}\\
       \email{webmaster@marysville-ohio.com}
% 3rd. author
\alignauthor Lars Th{\o}rv{\"a}ld\titlenote{This author is the
one who did all the really hard work.}\\
       \affaddr{The Th{\o}rv{\"a}ld Group}\\
       \affaddr{1 Th{\o}rv{\"a}ld Circle}\\
       \affaddr{Hekla, Iceland}\\
       \email{larst@affiliation.org}
}
%\and  % use '\and' if you need 'another row' of author names

% There's nothing stopping you putting the seventh, eighth, etc.
% author on the opening page (as the 'third row') but we ask,
% for aesthetic reasons that you place these 'additional authors'
% in the \additional authors block, viz.
\date{30 July 1999}
% Just remember to make sure that the TOTAL number of authors
% is the number that will appear on the first page PLUS the
% number that will appear in the \additionalauthors section.

\maketitle
\begin{abstract}
This is abstract.
\end{abstract}

% A category with the (minimum) three required fields
\category{H.4}{Information Systems Applications}{Miscellaneous}
%A category including the fourth, optional field follows...
\category{D.2.8}{Software Engineering}{Metrics}[complexity measures, performance measures]

\terms{Delphi theory}

\keywords{ACM proceedings, \LaTeX, text tagging}

\section{Introduction}

\section{Motivation}
Typically, the body of a paper is organized
into a hierarchical structure, with numbered or unnumbered
headings for sections, subsections, sub-subsections, and even
smaller sections.


\section{Background}
As we present our work as an extension of the type-specific language built on Wyvern, some background for Wyvern language and type-specific language mechanism is necessary to present the extensible keywords mechanism.
\subsection{Wyvern Language}
Wyvern is an emerging programming language built with functions to support pure object orient model and value-based language model, in which everything significant is a first-class value rather than an object or a function. 
\begin{figure}[t]
\begin{lstlisting}[style=wyvern]
casetype SimpleExp
  Num of Int
  Plus of SimpleExp * SimpleExp

objtype URL
  val protocal : String
  val subdomain : String
  def getProtaocal() : String

val imageBase : URL = new
  val protocal = "http"
  val submain = "images"
  def getProtaocal() : String = new
    protocal
\end{lstlisting}
\vspace{-8px}
\caption{Wyvern Example}
\vspace{-10px}
\label{wyvern-example}
\end{figure}
\par
In Fig.\ref{wyvern-example}, we present an example to show type declarations and a value construction. A case type named \texttt{SimpleExp} with two cases, and an object type \texttt{URL} with two value fields and a method are declared as named types. The casetype in Wyvern is similar to the sum type in lambda calculus while the objtype resembles the record type. Once a type is declared, the value \texttt{imageBase} in the example is constructed by providing definitions of fields and methods. The usage of values are similar to that in mainstream languages like Java, so no detailed will be provided here.
\subsection{Type-Specific Language}
Type-Specific Language(TSL) is designed to support constructing a datatype using specific designed syntax (e.g. HTML) rather than the usual way of using strings to build build the type. As using strings to represent these special data types frequently leads to correctness, performance, usability and security problems, allowing the directly usage of special syntax in a general purpose language will improve the behavior and the usability of a program.
\par
TSL allows users to define metadata with a parser to parse the code fragment using external syntax. As the external expressions with DSL literals are always associated with a type, the right parser defined in that type declaration will be used to parse the literals and then perform transformation on the literal to generate inner Wyvern code.
\par
The following example illustrates how to use TSL to construct a value of type HTML using HTML syntax.
\begin{figure}[t]
\begin{lstlisting}[style=wyvern]
type HTML = casetype 
   Empty of Unit
   Seq of HTML * HTML 
   Text of String
   BodyElement of Attributes * HTML
   Paragraph of Attribures * HTML
   StyleElement  of Attributes * CSS
   ... (* Other HTML cases *)
   metadata = new : HasParser
      val parser = ~
        ... (* HTML parser definition *)

val x : HTML = new ~
      <body id="doc1">
        <h1>My First Heading</h1>
        <p>My first paragraph.</p>
      </body>
\end{lstlisting}
\vspace{-8px}
\caption{A Wyvern case type with an associated TSL.}
\vspace{-10px}
\label{f-htmltype}
\end{figure}
In Fig.\ref{f-htmltype}, we present the declaration of type HTML as a casetype with different HTML cases (StyleElement, Text etc). Along with the definition of different cases, a metadata of type \texttt{HasParser} is defined with a parser to transform inserted DSL literals with HTML syntax. In line 12 of Fig.\ref{f-htmltype}, we initialize the value \texttt{x} using HTML syntax rather than constructing the fields as we did in the last section. The literals present inside the declaration body of type HTML body delimits by a tilde, thus the parser in the metadata of HTML will be invoked to initialize the value \texttt{x}.
\par
Using TSL method, DSL literals(HTML) can be safely injected into Wyvern, and due to its type specific property, composing different DSL syntax in Wyvern can be easily achieved. In the next section, we present our work on extensible keyword macros as an extension of TSL mechanism base on Wyvern language.


\section{Extensible keywords in Wyvern}
Although TSL provides the mechanism to construct data using DSL syntax, TSL alone is not enough to handle other syntax extensions if a user want to have multiple syntax to represent one datatype or construct a type using external representations. Several examples are presented in this section how the extensible keywords are used to solve these problems.
\subsection{Expression Keyword}
An expression keyword is a keyword associated with a parser to transform DSL literals into a Wyvern expression. Depending on whether a keyword provides the return type in its declaration, expression keywords are separated into two kinds, namely "black-box" keyword and "white-box" keyword. And expression keywords can be further classified to global-expression-keyword and type-specific-expression-keyword according to whether it is declared in a named type.
\paragraph{"Black-box" simpleHTML keyword}
We start with an example showing the usage of an expression keyword used to construct an HTML object with an alternative simple HTML syntax rather than the original HTML syntax displayed in Fig.\ref{f-htmltype}.
\begin{figure*}[t]
\begin{lstlisting}[style=wyvern]
keyword simpleHTML : HTML = new ~
  val parser = ~
    start <- '>body' = attributes start>
      fn (attrs, child) => Inj('BodyElement', Pair(attrs, child))
    start <- '>p' = attributes start>
      fn (attrs, child) => Inj("Paragraph", Pair(attrs, child))
    start <- TEXT
      fn (text) => Inj("Text", text)
    start <- '<'= EXP>
      fn (e) => '%e% : HTML'

val y : HTML = simpleHTML ~
  >body[id=doc1]
    >h1 My First Heading
    >p My first paragraph
\end{lstlisting}
\vspace{-8px}
\caption{A simpleHTML keyword example}
\vspace{-10px}
\label{f-simplehtml}
\end{figure*}
In Fig.\ref{f-simplehtml}, an "black-box" keyword \texttt{simpleHTML} is declared, which provides a parser to parse DSL literals written in an alternative simple HTML syntax. The keyword \texttt{simpleHTML} is declared with a return type, namely \texttt{HTML}, which means the the DSL literals used in the body of the keyword invocation will be parsed to generate an expression of type \texttt{HTML}. As the keyword is declared as a global keywords, 

\section{Formalization}
\subsection{Abstract Syntax}
\input{kw-syntax.tex}

\subsection{Typechecking and Elaboration}
\input{kw-environment.tex}
\input{kw-elaboration.tex}
\input{kw-contextformation.tex}
\input{kw-dereification.tex}
\input{kw-statics.tex}

% end the environment with {table*}, NOTE not {table}!

\section{Conclusions}
This paragraph will end the body of this sample document.
Remember that you might still have Acknowledgments or
Appendices; brief samples of these
follow.  There is still the Bibliography to deal with; and
we will make a disclaimer about that here: with the exception
of the reference to the \LaTeX\ book, the citations in
this paper are to articles which have nothing to
do with the present subject and are used as
examples only.
%\end{document}  % This is where a 'short' article might terminate

%ACKNOWLEDGMENTS are optional
\section{Acknowledgments}
This section is optional; it is a location for you
to acknowledge grants, funding, editing assistance and
what have you.  In the present case, for example, the
authors would like to thank Gerald Murray of ACM for
his help in codifying this \textit{Author's Guide}
and the \textbf{.cls} and \textbf{.tex} files that it describes.

%
% The following two commands are all you need in the
% initial runs of your .tex file to
% produce the bibliography for the citations in your paper.
\bibliographystyle{abbrv}
\bibliography{sigproc}  % sigproc.bib is the name of the Bibliography in this case
% You must have a proper ".bib" file
%  and remember to run:
% latex bibtex latex latex
% to resolve all references
%
% ACM needs 'a single self-contained file'!
%
%APPENDICES are optional
%\balancecolumns
\appendix
%Appendix A
\section{Headings in Appendices}
The rules about hierarchical headings discussed above for
the body of the article are different in the appendices.
In the \textbf{appendix} environment, the command
\textbf{section} is used to
indicate the start of each Appendix, with alphabetic order
designation (i.e. the first is A, the second B, etc.) and
a title (if you include one).  So, if you need
hierarchical structure
\textit{within} an Appendix, start with \textbf{subsection} as the
highest level. Here is an outline of the body of this
document in Appendix-appropriate form:
% This next section command marks the start of
% Appendix B, and does not continue the present hierarchy
\section{More Help for the Hardy}
The sig-alternate.cls file itself is chock-full of succinct
and helpful comments.  If you consider yourself a moderately
experienced to expert user of \LaTeX, you may find reading
it useful but please remember not to change it.
%\balancecolumns % GM June 2007
% That's all folks!
\end{document}