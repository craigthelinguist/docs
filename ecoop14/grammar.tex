% !TEX root = ecoop14.tex

\begin{figure}
\begin{lstlisting}[mathescape]
|e| $\rightarrow$ |ID|$^=$
|e| $\rightarrow$ |'fn'|$^=$ ID$^\geq$ ':'$^\geq$ tau$^\geq$ '=>'$^\geq$ e$^\geq$
|e| $\rightarrow$ |e|$^=$ '.'$^\geq$ ID$^\geq$
|e| $\rightarrow$ |e|$^=$ ':'$^\geq$ tau$^\geq$
|e| $\rightarrow$ |ID|$^=$ '.'$^\geq$ 'metaobject'$^\geq$
|e| $\rightarrow$ |ID|$^=$ '('$^\geq$ arglist$^\geq$ ')'$^\geq$
|e| $\rightarrow$ |'case'|$^=$ e$^\geq$ 'of'$^\geq$ casetype$^\geq$
|e| $\rightarrow$ |'new'|$^=$ NEWLINE$^\geq$ d$^>$
|e| $\rightarrow$ |'('|$^=$ type$^\geq$ ')'$^\geq$ e$^\geq$
|e| $\rightarrow$ |type|$^=$ '.'$^\geq$ caseconstr$^\geq$ '('$^\geq$ e$^\geq$ ')'$^\geq$
|e| $\rightarrow$ |literal|$^=$
|e| $\rightarrow$ |'fn'|$^=$ ID$^\geq$ ':'$^\geq$ tau$^\geq$ '=>'$^\geq$ '~'$^\geq$ NEWLINE$^\geq$ tsl[]$^>$
|e| $\rightarrow$ |'~'|$^\geq$ '.'$^\geq$ ID$^\geq$ NEWLINE$^\geq$ tsl[]$^>$
|e| $\rightarrow$ |'~'|$^\geq$ ':'$^\geq$ tau$^\geq$ NEWLINE$^\geq$ tsl[]$^>$
|e| $\rightarrow$ |ID|$^=$ '('$^\geq$ arglistwtsl$^\geq$ ')'$^\geq$ NEWLINE$^\geq$ tsl[]$^>$
|e| $\rightarrow$ |'case'|$^=$ '~'$^\geq$ 'of'$^\geq$ casetype$^\geq$ NEWLINE$^\geq$ tsl[]$^>$
|e| $\rightarrow$ |'('|$^=$ type$^\geq$ ')'$^\geq$ '~'$^\geq$ NEWLINE$^\geq$ tsl[]$^>$
|e| $\rightarrow$ |type|$^=$ '.'$^\geq$ caseconstr$^\geq$ '('$^\geq$ '~'$^\geq$ ')'$^\geq$ NEWLINE$^\geq$ tsl[]$^>$

|arglistwtsl| $\rightarrow$ |'~'|$^=$
|arglistwtsl| $\rightarrow$ |'~'|$^=$ ','$^\geq$ arglist$^\geq$
|arglistwtsl| $\rightarrow$ |arglist|$^=$ ','$^\geq$ '~'$^\geq$
|arglistwtsl| $\rightarrow$ |arglist|$^=$ ','$^\geq$ '~'$^\geq$ ','$^\geq$ arglist$^\geq$

|literal| $\rightarrow$ |DELIM1|$^=$ tsl[DELIM1, DELIM2]$^\geq$ DELIM2$^\geq$
\end{lstlisting}
\caption{Wyvern Grammar in Adams' Formalism (Desugared Form)}
\label{f-grammar}
\end{figure}


%|p| $\rightarrow$ $\varepsilon$
%|p| $\rightarrow$ |'objtype'|$^=$ ID$^\geq$ '='$^\geq$ NEWLINE$^\geq$ omegadecls$^>$ NEWLINE$^\geq$ metaobjectbody$^>$ NEWLINE$^\geq$ p$^=$
%|p| $\rightarrow$ |'casetype'|$^=$ ID$^\geq$ '='$^\geq$ NEWLINE$^\geq$ chicases$^>$ NEWLINE$^\geq$ metaobjectbody$^>$ NEWLINE$^\geq$ p$^=$
%|p| $\rightarrow$ |'objtype'|$^=$ ID$^\geq$ '='$^\geq$ NEWLINE$^\geq$ omegadecls$^>$ NEWLINE$^\geq$ metaobjectbody$^>$
%|p| $\rightarrow$ |'casetype'|$^=$ ID$^\geq$ '='$^\geq$ NEWLINE$^\geq$ chicases$^>$ NEWLINE$^\geq$ metaobjectbody$^>$
%|p| $\rightarrow$ |e|$^=$
%|p| $\rightarrow$ |'~'|$^=$ NEWLINE$^\geq$ tsl[]$^>$
%
%|metaobjectbody| $\rightarrow$ |'metaobject'|$^=$ '='$^\geq$ NEWLINE$^\geq$ e$^>$
%
%|d| $\rightarrow$ |'val'|$^=$ ID$^\geq$ ':'$^\geq$ tau$^\geq$ '='$^\geq$ e$^\geq$
%|d| $\rightarrow$ |'val'|$^=$ ID$^\geq$ ':'$^\geq$ tau$^\geq$ '='$^\geq$ e$^\geq$ NEWLINE$^\geq$ d$^=$
%|d| $\rightarrow$ |'def'|$^=$ ID$^\geq$ ':'$^\geq$ tau$^\geq$ '='$^\geq$ e$^\geq$
%|d| $\rightarrow$ |'def'|$^=$ ID$^\geq$ ':'$^\geq$ tau$^\geq$ '='$^\geq$ e$^\geq$ NEWLINE$^\geq$ d$^=$
%|d| $\rightarrow$ |'val'|$^=$ ID$^\geq$ ':'$^\geq$ tau$^\geq$ '='$^\geq$ '~'$^\geq$ NEWLINE$^\geq$ tsl[]$^>$
%|d| $\rightarrow$ |'val'|$^=$ ID$^\geq$ ':'$^\geq$ tau$^\geq$ '='$^\geq$ '~'$^\geq$ NEWLINE$^\geq$ tsl[]$^>$ NEWLINE$^\geq$ d$^=$
%|d| $\rightarrow$ |'def'|$^=$ ID$^\geq$ ':'$^\geq$ tau$^\geq$ '='$^\geq$ '~'$^\geq$ NEWLINE$^\geq$ tsl[]$^>$
%|d| $\rightarrow$ |'def'|$^=$ ID$^\geq$ ':'$^\geq$ tau$^\geq$ '='$^\geq$ '~'$^\geq$ NEWLINE$^\geq$ tsl[]$^>$ NEWLINE$^\geq$ d$^=$
%
