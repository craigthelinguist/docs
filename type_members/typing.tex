\begin{figure}[h]
\hfill \fbox{$\Delta; \; \Sigma; \; \Gamma \vdash e:T$}
\begin{mathpar}
\inferrule
  {x : T \in \Gamma}
  {	\Delta; \; \Sigma; \; \Gamma \vdash x : T}
  \quad (\textsc {T-Var})
	\and
\inferrule
  {\Delta; \; \Sigma; \; \Gamma, \texttt{self} : \{\texttt{self} \Rightarrow \overline{\sigma}\} \vdash \overline{d} : \overline{\sigma}\\
  	\Delta; \; \Sigma; \; \Gamma, y : \{\texttt{self} \Rightarrow \overline{\sigma}\} \vdash e : T \\
  	y \notin \Gamma}
  {	\Delta; \; \Sigma; \; \Gamma \vdash \texttt{var} \; y = \texttt{new} \; \{\texttt{self} \Rightarrow \overline{d}\} : \{\texttt{self} \Rightarrow \overline{\sigma}\}; \; e}
  \quad (\textsc {T-New})
	\and
\inferrule
  {	\Delta; \; \Sigma; \; \Gamma \vdash e_1 : S \\
  	\Delta; \; \Sigma; \; \Gamma \vdash e_0 : T_0 \\
  	T_0 \ni \texttt{def} \; m:S \rightarrow T}
  {	\Delta; \; \Sigma; \; \Gamma \vdash e_0.m(e_1) : T}
  \quad (\textsc {T-Meth})
	\and
\inferrule
  {	\Delta; \; \Sigma; \; \Gamma \vdash e_0 : T_0 \\
  	T_0 \ni \texttt{def} \; f:T = e}
  {	\Delta; \; \Sigma; \; \Gamma \vdash e_0.f : T}
  \quad (\textsc {T-Var})
	\and
\inferrule
  {	\Delta; \; \Sigma; \; \Gamma \vdash e_0 : T_0 \\
  	T_0 \ni \texttt{def} \; f:T = e \\
  	\Delta; \; \Sigma; \; \Gamma \vdash e_1 : T}
  {	\Delta; \; \Sigma; \; \Gamma \vdash e_0.f = e_1 : T}
  \quad (\textsc {T-Assign})
%	\and
%\inferrule
%  {	l:T \in \Sigma}
%  {	\Delta; \; \Sigma; \; \Gamma \vdash l : T}
%  \quad (\textsc {T-Loc})
	\and
\inferrule
  {	\Delta; \; \Sigma; \; \Gamma \vdash e : S \\
  	\Delta; \; \Gamma \vdash S <: T}
  {	\Delta; \; \Sigma; \; \Gamma \vdash e : T}
  \quad (\textsc {T-Sub})
\end{mathpar}
\caption{Expression Typing}
\label{f:e_typ}
\end{figure}
\begin{figure}[h]
\hfill \fbox{$\Delta; \; \Sigma; \; \Gamma \vdash d:\sigma$}
\begin{mathpar}
\inferrule
  {\Delta; \; \Sigma; \; \Gamma \vdash e : T}
  {\Delta; \; \Sigma; \; \Gamma \vdash \texttt{def} \; f:T = e : \texttt{def} \; f:T}
  \quad (\textsc {T-Decl-Var})
	\and
\inferrule
  {\Delta; \; \Sigma; \; \Gamma \vdash e_0 : T}
  {\Delta; \; \Sigma; \; \Gamma \vdash \texttt{def} \; m:T(x:S) = e : \texttt{def} \; m:S \rightarrow T}
  \quad (\textsc {T-Decl-Def})
	\and
\inferrule
  {\Delta; \; \Gamma \vdash \texttt{type} \; L : S .. U \; \textbf{wf} }
  {\Delta; \; \Sigma; \; \Gamma \vdash \texttt{type} \; L : S .. U : \texttt{type} \; L : S .. U}
  \quad (\textsc {T-Decl-Type})
\end{mathpar}
\caption{Declaration Typing}
\label{f:d_typ}
\end{figure}
\begin{figure}[h]
\hfill \fbox{$\Delta; \; \Gamma \vdash \mu:\Sigma$}
\begin{mathpar}
\inferrule
  {\forall l \in dom(\mu), \; \mu(l)= \{\texttt{self} \Rightarrow \overline{d}\} \\
  	\Sigma(l)= \{\texttt{self} \Rightarrow \overline{\sigma}\} \\
  	\Delta; \; \Sigma; \; \Gamma \vdash \overline{d} : \overline{\sigma}}
  {\Delta; \; \Gamma \vdash \mu : \Sigma}
  \quad (\textsc {T-Store})
\end{mathpar}
\caption{Store Typing}
\label{f:s_typ}
\end{figure}