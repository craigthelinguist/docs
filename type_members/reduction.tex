\begin{figure}[h]
\hfill \fbox{$\Delta; \; \mu \; | \; e \rightarrow \Delta'; \; \mu' \; | \; e'$}
\begin{mathpar}
\inferrule
  {\mu' = \mu, l \mapsto \{\texttt{self} \Rightarrow \overline{d_v}\} \\
  	\Delta' = \Delta, y \mapsto l}
  {\Delta; \; \mu \; | \; \texttt{var} \; y = \texttt{new} \; \{\texttt{self} \Rightarrow \overline{d_v}\}; e \rightarrow \Delta'; \; \mu' \; | \; e}
  \quad (\textsc {R-New})
  \and
\inferrule
  {\mu(\Delta(y)) = \{\texttt{self} \Rightarrow ...,m:T(x:S)=e,...\}\\
   \Delta(z) = l' \\
  	z' \notin dom(\Delta)\\
  	\Delta' = \Delta,z' \mapsto l'}
  {	\Delta; \; \mu \; | \; y.m(z) \rightarrow \Delta'; \; \mu \; | \; [y/\texttt{self},z'/x]e \unlhd T}
  \quad (\textsc {R-Meth})
  \and
\inferrule
  {}
  {\Delta; \; \mu \; | \; v \unlhd T \rightarrow \Delta; \; \mu \; | \; v}
  \quad (\textsc {R-Narrow})
  \and
\inferrule
  {\mu(\Delta(x)) = \{\texttt{self} \Rightarrow ...,f:T=e,...\}}
  {		\Delta; \; \mu \; | \; x.f \rightarrow 	\Delta; \; \mu \; | \; [x/\texttt{self}]e}
  \quad (\textsc {R-Acc})
  \and
\inferrule
  { \mu(\Delta(x)) = \{\texttt{self} \Rightarrow ...,f:T=e,...\}\\
  	\mu' = \mu[\Delta(x) \mapsto \{\texttt{self} \Rightarrow ...,f:T=y,...\}]}
  {		\Delta; \; \mu \; | \; x.f = y \rightarrow 	\Delta; \; \mu \; | \; y}
  \quad (\textsc {R-Assign})
  \and
\inferrule
  {	\Delta; \; \mu \; | \; e \rightarrow 	\Delta'; \; \mu' \; | \; e'}
  {		\Delta; \; \mu \; | \; E[e] \rightarrow 	\Delta'; \; \mu' \; | \; E[e']}
  \quad (\textsc {R-Context})
\end{mathpar}
\caption{Reduction}
\label{f:red}
\end{figure}
\begin{figure}[h]
\hfill \fbox{$\Delta; \; \mu \; | \; d \rightarrow_d \Delta'; \; \mu' \; | \; d'$}
\begin{mathpar}
\inferrule
  {\Delta; \; \mu \; | \; e \rightarrow \Delta'; \; \mu' \; | \; e'}
  {\Delta; \; \mu \; | \; D[e] \rightarrow_d \Delta'; \; \mu' \; | \; D[e']}
  \quad (\textsc {R-Decl-Context})
\end{mathpar}
\hfill \fbox{$\Delta; \; \mu \; | \; \overline{d} \rightarrow_d \Delta'; \; \mu' \; | \; \overline{d}'$}
\begin{mathpar}
\inferrule
  {\Delta; \; \mu \; | \; d \rightarrow_d \Delta'; \; \mu' \; | \; d'}
  {\Delta; \; \mu \; | \; d,\overline{d} \rightarrow_d \Delta'; \; \mu' \; | \; d',\overline{d}}
  \quad (\textsc {R-Decl-Head})
  \and
\inferrule
  {\Delta; \; \mu \; | \; \overline{d} \rightarrow_d \Delta'; \; \mu' \; | \; \overline{d}'}
  {\Delta; \; \mu \; | \; d,\overline{d} \rightarrow_d \Delta'; \; \mu' \; | \; d,\overline{d}'}
  \quad (\textsc {R-Decl-Tail})
\end{mathpar}
\caption{Declaration Reduction}
\label{f:d-red}
\end{figure}