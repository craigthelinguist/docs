\begin{figure}[h]
\hfill \fbox{$\Delta; \; \mu \; | \; e \rightarrow \Delta'; \; \mu' \; | \; e'$}
\begin{mathpar}
\inferrule
  {\mu' = \mu, l \mapsto \{\texttt{self} \Rightarrow \overline{d}\} \\
  	\Delta' = \Delta, y \mapsto l}
  {\Delta; \; \mu \; | \; \texttt{var} \; y = \texttt{new}; e \; \{\texttt{self} \Rightarrow \overline{d}\} \rightarrow \Delta'; \; \mu' \; | \; e}
  \quad (\textsc {R-New})
  \and
\inferrule
  {\mu(\Delta(y)) = \{\texttt{self} \Rightarrow ...,m:T(x:S)=e,...\}\\
   \Delta(z) = l' \\
  	z' \notin dom(\Delta)\\
  	\Delta' = \Delta,z' \mapsto l'}
  {	\Delta; \; \mu \; | \; y.m(z) \rightarrow \Delta'; \; \mu \; | \; [y/\texttt{self},z'/x]e}
  \quad (\textsc {R-Meth})
  \and
\inferrule
  {\mu(\Delta(x)) = \{\texttt{self} \Rightarrow ...,f:T=e,...\}}
  {		\Delta; \; \mu \; | \; x.f \rightarrow 	\Delta; \; \mu \; | \; [x/\texttt{self}]e}
  \quad (\textsc {R-Var})
  \and
\inferrule
  { \mu(\Delta(x)) = \{\texttt{self} \Rightarrow ...,f:T=e,...\}\\
  	\mu' = \mu[\Delta(x) \mapsto \{\texttt{self} \Rightarrow ...,f:T=y,...\}]}
  {		\Delta; \; \mu \; | \; x.f = y \rightarrow 	\Delta; \; \mu \; | \; y}
  \quad (\textsc {R-Assign})
  \and
\inferrule
  {	\Delta; \; \mu \; | \; e \rightarrow 	\Delta'; \; \mu' \; | \; e'}
  {		\Delta; \; \mu \; | \; E[e] \rightarrow 	\Delta'; \; \mu' \; | \; E[e']}
  \quad (\textsc {R-Context})
\end{mathpar}
\caption{Reduction}
\label{f:red}
\end{figure}