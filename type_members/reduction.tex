\begin{figure}[h]
\hfill \fbox{$\mu \; | \; e \; | \; E \rightarrow \mu' \; | \; e' \; | \; E'$}
\begin{mathpar}
\inferrule
  {\mu' = \mu, y \mapsto \{\texttt{z} \Rightarrow \overline{d_v}\} \\
  	E' = E[\texttt{var} \; y = \texttt{new} \; \{\texttt{z} \Rightarrow \overline{d_v}\}; \bigcirc]}
  {\mu \; | \; \texttt{var} \; y = \texttt{new} \; \{\texttt{z} \Rightarrow \overline{d_v}\}; e \; | E \; \rightarrow \mu' \; | \; e \; | E'}
  \quad (\textsc {R-New})
  \and
\inferrule
  {\mu(narrow(v_1)) = \{\texttt{z} \Rightarrow ...,m:T(x:S)=e,...\}}
  {\mu \; | \; v_1.m(v_2) \; | E \rightarrow \mu \; | \; [v_1/\texttt{z},v_2 \unlhd S/x]e \unlhd T \; | E}
  \quad (\textsc {R-Meth})
%  \and
%\inferrule
%  {}
%  {\Delta; \; \mu \; | \; v \unlhd T \rightarrow \Delta; \; \mu \; | \; v}
%  \quad (\textsc {R-Narrow})
  \and
\inferrule
  {\mu(narrow(v_1)) = \{\texttt{z} \Rightarrow ...,f:T=e,...\}}
  {\mu \; | \; v_1.f \; | E \rightarrow 	\mu \; | \; [v_1 \unlhd T/\texttt{z}]e \; | E}
  \quad (\textsc {R-Acc})
%  \and
%\inferrule
%  {narrow(v_1) = x \\
%   \mu(x) = \{\texttt{z} \Rightarrow ...,f:T=e,...\}\\
%  	\mu' = \mu[x \mapsto \{\texttt{z} \Rightarrow ...,f:T=y,...\}]}
%  {\mu \; | \; v_1.f = v_2 \rightarrow \mu \; | \; v_2}
%  \quad (\textsc {R-Assign})
  \and
\inferrule
  {	\mu \; | \; e \; | E'[E] \rightarrow \mu' \; | \; e' \; | E'[E]}
  {\mu \; | \; E[e] \; | E' \rightarrow \mu' \; | \; E[e'] \; | E'}
  \quad (\textsc {R-Context})
\end{mathpar}
\caption{Reduction}
\label{f:red}
\end{figure}
\begin{figure}[h]
\hfill \fbox{$\mu \; | \; d \rightarrow_d \mu' \; | \; d'$}
\begin{mathpar}
\inferrule
  {\mu \; | \; e \; | \; E \rightarrow \mu' \; | \; e' \; | \; E'}
  {\mu \; | \; D[e] \rightarrow_d \mu' \; | \; D[e']}
  \quad (\textsc {R-Decl-Context})
\end{mathpar}
\hfill \fbox{$\mu \; | \; \overline{d} \; | \; E \rightarrow_d \mu' \; | \; \overline{d}' \; | \; E'$}
\begin{mathpar}
\inferrule
  {\mu \; | \; d \rightarrow_d \mu' \; | \; d'}
  {\mu \; | \; d,\overline{d} \rightarrow_d \mu' \; | \; d',\overline{d}}
  \quad (\textsc {R-Decl-Head})
  \and
\inferrule
  {\mu \; | \; \overline{d} \rightarrow_d \mu' \; | \; \overline{d}'}
  {\mu \; | \; d,\overline{d} \rightarrow_d \mu' \; | \; d,\overline{d}'}
  \quad (\textsc {R-Decl-Tail})
\end{mathpar}
\caption{Declaration Reduction}
\label{f:d-red}
\end{figure}