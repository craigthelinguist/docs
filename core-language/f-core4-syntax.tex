\begin{figure}
\centering
\[
\begin{array}{llll}

e    & \bnfdef & x \\
     & \bnfalt & \boldsymbol\lambda x{:}\tau . e \\
     & \bnfalt & e(e) \\
     & \bnfalt & \keyw{new}~ \{ \overline{d} \}\\
     & \bnfalt & e.f \\
     & \bnfalt & e.f = e \\
     & \bnfalt & e.m \\
\\[1ex]

\tau & \bnfdef & p ~ t\\
     & \bnfalt & \tau \rightarrow \tau \\
\\[1ex]
	 
p	 & \bnfdef & \epsilon\\
     & \bnfalt & x. \\
     & \bnfalt & p ~ f. & \textit{f must be constant}\\
\\[1ex]
	 
\end{array}
\begin{array}{lll}
~~~~
\end{array}
\begin{array}{lll}

u   & \bnfdef & \keyw{module}~ \textit{url} : \tau ~\overline{i} ~\overline{d}\\
\\[1ex]

% Imports have a URL.  This may be absolute, or relative to the module's URL (minus the last bit, following browser convention).  There may be an optional alias for the imported name of the module (defaults to the end of the URL, as in Go).
% Source language is disambiguated based on mime type.  Right now it will work for Java and JavaScript.  Later: an extensible mechanism such as type providers?  Discuss this later.
% Leave an optional type ascription.  Right now it is used only for JavaScript.  Later we may allow it to further constrain the type of the imported code.

% To discuss: how to handle JavaScript imports in a more properly
% Things to possibly add: a source language (or DSL) (defaults based on filename), a type (unnecessary for typed source language, or defaults to dynamically typed), a version (eventually)

i   & \bnfdef & \keyw{import}~ \textit{url}\\
	 & \bnfalt & \keyw{import}~ \textit{url} : \tau ~\keyw{as}~ x\\
\\[1ex]

% alternative: C++ style "public:" - and organize by visibility
% support both ascription and public : principled and convenient
% support ascription first

d   & \bnfdef & \keyw{public}_\textit{opt} ~\keyw{var}~ f:\tau = e \\
     & \bnfalt & \keyw{public}_\textit{opt} ~\keyw{val}~ f:\tau = e \\
     & \bnfalt & \keyw{public}_\textit{opt} ~\keyw{def}~ m:\tau = e \\
     & \bnfalt & \keyw{public}_\textit{opt} ~\keyw{type}~ t~ = \{ \overline{\tau_d} \} \\
%     & \bnfalt & & \textit{lang extn here} \\
\\[1ex]


%could use fun vs. proc (or method or routine)
%alternative: just use fun
\tau_d   & \bnfdef & \keyw{constant}_\textit{opt} ~\keyw{def}~ m:\tau \\
         & \bnfalt & \keyw{type}~ t~ = \{ \tau \}  \\
\\[1ex]

\sigma & \bnfdef & \tau \\
       & \bnfalt & \{ \overline{\sigma_d} \} \\
\\[1ex]

\sigma_d & \bnfdef & \keyw{var}~ f:\tau \\
         & \bnfalt & \tau_d \\

\end{array}
\]
\caption{Featherweight Wyvern Module Syntax}
\label{fig:core4-syntax}
\end{figure}
