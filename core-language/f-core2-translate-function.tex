\begin{figure}
\centering
\begin{tabular}{ r c l }
$\textit{trans}(\keyw{meth}~ m:\tau)$ & $\equiv$ & $m:\keyw{unit} \rightarrow \tau$ \\

$\textit{trans}(\keyw{var}~ f:\tau)$ & $\equiv$ & $f:\keyw{ref}~ \tau$ \\

$\textit{trans}(\keyw{meth}~ m:\tau = e; \overline{d})$ & $\equiv$ & $m:\tau = \boldsymbol\lambda \_:\keyw{unit}.\textit{trans}(e);$ \\
&& $\textit{trans}(\overline{d})$\\

$\textit{trans}(\keyw{var}~ f:\tau = e; \overline{d})$ & $\equiv$ & $f:\tau := \keyw{alloc}~ \textit{trans}(e);$ \\
&& $\textit{trans}(\overline{d})$\\

$\textit{trans}(e.m)$ & $\equiv$ & $(\keyw{unfold}~ \textit{trans}(e)).m()$ \\

$\textit{trans}(\keyw{new}~ \{\overline{d}\})$ & $\equiv$ & $\keyw{letrec}~this:\sigma =$\\
&&$ ~~~~ \{ \textit{trans}(\overline{d}) \}$\\
&&$ \keyw{in}~ \keyw{fold}~ this$ \\
&& \textit{where} $~ \Gamma,\sigma \vdash \{ \overline{d} \} : \sigma$ \\

$\textit{trans}(e.f=e_1)$ & $\equiv$ & $\textit{trans}(e).f=\textit{trans}(e_1)$ \\

$\textit{trans}(e.f)$ & $\equiv$ &  $!\textit{trans}(e).f$ \\

$\textit{trans}(\keyw{type}~ t = \{\overline{\tau_d}\}; \overline{d})$ & $\equiv$ & $\textit{trans}([\boldsymbol\mu t.\textit{trans}(\overline{\tau_d})/t]\overline{d})$ \\

\end{tabular}
\caption{Translation from Featherweight Wyvern to the Extended Lambda Calculus}
\label{fig:cw-translate}
\end{figure}
