\begin{figure}

$trans(\keyw{class} ~ c ~ \{\overline{cd}; \overline{d}\}) \equiv \keyw{type}~ c = \tau_i; ~ \keyw{var}~ c:\tau_c = e$ \\
$~~~~~~~ \textrm{where}$ \\
$~~~~~~~~~~~~~~ \tau_c = \{\overline{\keyw{meth}~ m:\tau}\}$ \\
$~~~~~~~~~~~~~~~~~~~~~ \textrm{where}~ \keyw{meth}~ m:\tau \in \tau_c$ \\
$~~~~~~~~~~~~~~~~~~~~~~~~~~~~ \textrm{iff}~ \keyw{class}~ \keyw{meth}~ m:\tau = e \in \overline{cd}$ \\
%$~~~~~~~~~~~~~~ \sigma_c = \tau_c \union \{\overline{\keyw{var}~ f:\tau}\}$ \\
%$~~~~~~~~~~~~~~~~~~~~~\textrm{where}~ \keyw{var}~ f:\tau \in \sigma_c ~\textrm{iff}~ \keyw{class}~ \keyw{var}~ f:\tau = e \in \overline{cd}$ \\
$~~~~~~~~~~~~~~ \tau_i = \{\overline{\keyw{meth}~ m:\tau}\}$ \\
$~~~~~~~~~~~~~~~~~~~~~\textrm{where}~ \keyw{meth}~ m:\tau \in \tau_i ~\textrm{iff}~ \keyw{meth}~ m:\tau = e \in \overline{d}$ \\
%${~~~~~~~~~~~~~~ \sigma_i = \tau_i \union \{\overline{\keyw{type}~ t ~ \{\overline{\tau_d}\}}\} \union \{\overline{\keyw{var}~ f:\tau}\}}$ \\
%$~~~~~~~~~~~~~~~~~~~~~ \textrm{where}~ \keyw{type}~ t ~ \{\overline{\tau_d}\} \in \sigma_i ~\textrm{iff}~ \keyw{type}~ t ~ \{\overline{\tau_d}\} \in \overline{d},$ \\
%$~~~~~~~~~~~~~~~~~~~~~ \textrm{and}~ \keyw{var}~ f:\tau \in \sigma_i ~\textrm{iff}~ \keyw{var}~ f:\tau = e \in \overline{d}$ \\
$~~~~~~~~~~~~~~ \overline{d_{cl}} = \{\overline{\keyw{meth}~ m:\tau = e}\} \union \{\overline{\keyw{var}~ f:\tau = e}\}$ \\
$~~~~~~~~~~~~~~~~~~~~~ \textrm{where}~ \keyw{meth}~ m:\tau = e \in \overline{d_{cl}}$\\
$~~~~~~~~~~~~~~~~~~~~~~~~~~~~ \textrm{iff}~ \keyw{class}~ \keyw{meth}~ m:\tau = e \in \overline{cd}$ \\
$~~~~~~~~~~~~~~~~~~~~~ \textrm{and}~ \keyw{var}~ f:\tau = e \in \overline{d_{cl}}$\\
$~~~~~~~~~~~~~~~~~~~~~~~~~~~~ \textrm{iff}~ \keyw{class}~ \keyw{var}~ f:\tau = e \in \overline{cd}$ \\
$~~~~~~~~~~~~~~ \overline{d'_{cl}} = [\keyw{new} ~ \{\overline{d} \oplus \overline{d'}\} ~ / ~ \keyw{new} ~ \{\overline{d'}\}] ~ \overline{d_{cl}}$ \\
$~~~~~~~~~~~~~~ \overline{d''_{cl}} = trans(\overline{d'_{cl}}$) \\
$~~~~~~~~~~~~~~ e = \keyw{new} \{ \overline{d''_{cl}} \}$ \\
%$~~~~~~~~~~~~~~ \Gamma \vdash e : \tau$

\caption{Translation of a Class from FWC to FW}
\label{f-core3-translate-function}

\end{figure}