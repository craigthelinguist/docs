\begin{figure*}
  \centering
\begin{lstlisting}
/* The translation of this, written in Core 2 syntax, */

var option : option_class =
	new option_class_internal
		var totalQuantityIssued : int = 0
		meth issue : int -> int -> option =
			fn q : int =>
				fn p : int =>
					totalQuantityIssued =
						totalQuantityIssued + q
					new option_internal
						var quantity : int = q
						var price : int = p
						meth execute : int =
							this.quantity * this.price

/* in Core 1, is */

option := alloc 
	letrec this =

		totalQuantityIssued = alloc 0
		issue = letrec q = /* ? */
			in letrec p = /* ? */
			in
				totalQuantityIssued = alloc totalQuantityIssued + q

				letrec this =
					quantity = alloc q
					price = alloc p
					execute = quantity * price /* ? */
				in fold[$\tau_2$] this

	in fold[$\tau_1$] this
\end{lstlisting}
\caption{Part of \texttt{option} Class Translated to Core 1}
\label{f-example-translated-2}
\end{figure*}